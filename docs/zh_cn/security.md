### 安全保护

#### 1. 数据库

对关键的三个参数  
`"client_id", "client_secret", "tenant_id"`  
进行了加密, 加解密的key在第一版中使用了非对称加密,  
但后来考虑到这是非必要的, 因为加解密都在服务端, 对象为同一个  
在新版中使用了对称加密, 并且通过telegram客户端进行密钥的存取

这一变化在2.0开始, 并且完全弃用它们. 很抱歉, 我不打算兼容之前的版本.   
新版本无法再解密之前数据库, 请清空它们, 生成新的密钥

#### 2. telegram客户端

采用操作密码的形式在进行敏感操作时核验身份.
默认是不开启的, 除非用户将密码添加到环境变量.  
什么是敏感操作? 对用户的信息的增删改查, 重新生成key, 删除域名

#### 3. 欢迎界面

虽然程序是C/S架构, 但为了避免未知的风险  
建议修改欢迎界面, 可以通过环境变量指定路径. 以防止特征扫描

### 风险

整体安全性建立在服务端不被盗的前提下, 微软服务的安全性, Telegram服务的安全性

#### 服务端被盗

风险100%. 先不谈针对python沙盒有什么手段, 只要有木马监控出入流量, 服务程序就毫无安全性可言.  
对微软服务器的请求token携带在请求头中, app的三个身份识别参数通过get参数传递, 全部是明文发出.
这是微软服务的规定, 我们无法改变.  
通过对Telegram入站流量的劫持, 还可以修改敏感信息. 

Serverless账户被盗安全性如何?  
fly.io做的比heroku好的多. fly.io的环境变量用户看不到明文, 
数据库链接仅显示一次, 并且外网访问需要流量转发. 

#### 仅环境变量被盗
风险0%

#### 仅数据库被脱裤
风险0%

#### 仅Telegram账户被盗
如果你设置了操作密码, 并及时清除掉一些操作规程中产生的敏感信息, 比如账户密码.
那么风险是0%  
如果你没有设置操作密码, 那么是100%  
如果你设置了操作密码, 一些敏感信息仍遗留在telegram账户上, 那么存在风险  
无论如何, 请在发现被盗后及时停用程序

#### 数据库及Telegram账户被盗
如果你设置了操作密码并及时清除掉一些操作规程中产生的敏感信息, 那么仍然不会有风险

### Key使用
在程序启动时, 会先自动检测数据库是否有数据, 如果有请输入已有key解密它们.  
否则, 请申请一个新key, 这会清除掉所有无法解密的数据, 清空数据库.  

**务必保护好key及操作密码❗❗❗**  
**务必保护好key及操作密码❗❗❗**  
**务必保护好key及操作密码❗❗❗**  
